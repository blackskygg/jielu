from sdl2 import *
from sdl2.sdlimage import *
from sdl2.sdlgfx import *
from grab import ScreenShot
import os

#Initialization
SDL_Init(SDL_INIT_EVERYTHING)
IMG_Init(IMG_INIT_PNG | IMG_INIT_JPG)

#TEST
SDL_Delay(6000)

#create a full-screen window with screenshot
os.system("scrot -z shot.png")
background = IMG_Load("shot.png")

disp_rect = SDL_Rect()
SDL_GetDisplayBounds(0, disp_rect)
win = SDL_CreateWindow("Blue", disp_rect.x, disp_rect.y, disp_rect.w, disp_rect.h, SDL_WINDOW_FULLSCREEN_DESKTOP)
surface = SDL_GetWindowSurface(win)
SDL_BlitSurface(background, None, surface, None)
SDL_UpdateWindowSurface(win)

SDL_Delay(1000)

#display an img
img = IMG_Load("flower.png")
rect = SDL_Rect(0, 0, img.contents.w, img.contents.h)
rect2 = rect.__copy__()
"""for i in range((disp_rect.w - img.contents.w)/2, disp_rect.w - img.contents.w):
    rect.x = i
    rect2.x = disp_rect.w - i - img.contents.w
    SDL_BlitSurface(background, None, surface, None)
    SDL_BlitSurface(img, None, surface, rect)
    SDL_BlitSurface(img, None, surface, rect2)
    SDL_UpdateWindowSurface(win)
    SDL_Delay(1)
"""
